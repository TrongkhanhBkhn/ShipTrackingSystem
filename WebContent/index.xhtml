<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<h:html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Insert title here</title>
	<script
		src="http://maps.google.com/maps/api/js?key=AIzaSyDpMCBQwfKzLZq5hU1b1Um-QH6e3tLxseg"
		type="text/javascript"></script>
</h:head>

<h:body>

	<script type="text/javascript">
		function geocode() {
			PF('geoMap').geocode(document.getElementById('address').value);
		}

		function reverseGeocode() {
			var lat = document.getElementById('lat').value, lng = document
					.getElementById('lng').value;

			PF('revGeoMap').reverseGeocode(lat, lng);
		}
	</script>

	<h:form prependId="false" id="form">
		<h3>Reverse Geocode</h3>
		<h:panelGrid columns="5" style="margin-bottom:10px" cellpadding="5">
			<p:outputLabel for="lat" value="Lat:" />
			<p:inputText id="lat" />
			<p:outputLabel for="lng" value="Lng:" />
			<p:inputText id="lng" />
			<p:commandButton value="HYBRID" actionListener="#{geocodeView.change}" update=":form:revGeoGmap"></p:commandButton>
			<p:commandButton value="Reverse Geocode" icon="ui-icon-search"
				onclick="reverseGeocode()" type="button" />
		</h:panelGrid>

		<p:gmap id="revGeoGmap" widgetVar="revGeoMap"
			center="#{geocodeView.centerRevGeoMap}" zoom="7" type="#{geocodeView.type}"
			model="#{geocodeView.revGeoModel}" style="width:100%;height:1000px">
			<p:ajax event="reverseGeocode"
				listener="#{geocodeView.onReverseGeocode}" update="@this" />
		</p:gmap>

	</h:form>

</h:body>
</h:html>